diff --git a/src/cmd.c b/src/cmd.c
--- a/src/cmd.c
+++ b/src/cmd.c
@@ -97,6 +97,7 @@ extern int doorganize(void);         /**/
 staticfn int dosuspend_core(void);
 staticfn int dosh_core(void);
 staticfn int wiz_dumpmap(void);
+staticfn int wiz_dumpobj(void);
 staticfn int doherecmdmenu(void);
 staticfn int dotherecmdmenu(void);
 staticfn int doprev_message(void);
@@ -1099,6 +1100,37 @@ wiz_dumpmap(void)
     return ECMD_OK;
 }

+/* #dumpobj -- write fobj (floor object list) in iteration order.
+ * Used by WebHack comparison tests to verify dog_goal scan order.
+ * Output: one object per line: ox oy otyp owt oc_name */
+staticfn int
+wiz_dumpobj(void)
+{
+    const char *fname;
+    FILE *fp;
+    struct obj *obj;
+
+    fname = getenv("NETHACK_DUMPOBJ");
+    if (!fname || !*fname)
+        fname = "dumpobj.txt";
+
+    fp = fopen(fname, "w");
+    if (!fp) {
+        pline("Cannot open %s for writing.", fname);
+        return ECMD_OK;
+    }
+
+    for (obj = fobj; obj; obj = obj->nobj) {
+        fprintf(fp, "%d %d %d %u %s\n",
+                obj->ox, obj->oy, obj->otyp, obj->owt,
+                OBJ_NAME(objects[obj->otyp]));
+    }
+
+    fclose(fp);
+    pline("Objects dumped to %s.", fname);
+    return ECMD_OK;
+}
+
 /* temporary? hack, since level type codes aren't the same as screen
    symbols and only the latter have easily accessible descriptions.
    Also used by wizcmds.c */
@@ -1688,4 +1720,6 @@ struct ext_func_tab extcmdlist[] = {
               wiz_dumpmap, IFBURIED | AUTOCOMPLETE | WIZMODECMD, NULL },
+    { '\0',   "dumpobj", "dump floor objects in fobj iteration order",
+              wiz_dumpobj, IFBURIED | AUTOCOMPLETE | WIZMODECMD, NULL },
     { M('?'), "?", "list all extended commands",
               doextlist, IFBURIED | AUTOCOMPLETE | GENERALCMD | CMD_M_PREFIX,
               NULL },
